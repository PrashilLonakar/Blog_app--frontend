import './polyfills.server.mjs';
import{b as pe}from"./chunk-3F22X2WI.mjs";import{a as de}from"./chunk-ETY7J6CU.mjs";import{a as me}from"./chunk-GCB2FELP.mjs";import{a as V,b as le}from"./chunk-RKTZXAEF.mjs";import"./chunk-XHRENCHR.mjs";import{A as re,b as j,d as g,f as q,g as G,h as U,k as H,l as Q,m as Y,o as W,p as K,q as J,r as X,s as Z,u as $,x as ee,y as te,z as ie}from"./chunk-MJVBBUFZ.mjs";import{a as oe,b as ne,c as ae,g as se}from"./chunk-H2KYOXOE.mjs";import"./chunk-WBEOKIC4.mjs";import{h as z,k as O,q as R}from"./chunk-MOBMO3SR.mjs";import"./chunk-UTEJNEE6.mjs";import{Ab as o,Bb as m,Fb as F,Ib as h,Kb as S,Ob as k,Pb as N,Qb as A,Qc as D,Rb as x,Sb as s,Ta as M,Tb as T,Tc as L,Ub as y,Wa as n,Xa as b,Zb as B,fa as P,jb as w,na as u,oa as c,ob as C,qb as d,sb as I,vb as E,zb as r}from"./chunk-HY47MGUS.mjs";import"./chunk-KXIJJ5ZC.mjs";var ue=["fileInput"];function ce(l,p){l&1&&(r(0,"mat-icon"),s(1,"upload"),o(),r(2,"p"),s(3,"Upload your Profile pic"),o())}function fe(l,p){if(l&1){let f=F();r(0,"div"),m(1,"img",23),r(2,"p")(3,"span",24),s(4),o(),s(5),o(),r(6,"mat-icon",25),h("click",function(){u(f);let i=S(2);return c(i.removeImage())}),s(7,"delete"),o()()}if(l&2){let f=S(2);n(),d("src",f.imagePreview(),M),n(3),T(f.imageName()),n(),y(" (",f.fileSize()," KB) ")}}function he(l,p){if(l&1&&(r(0,"div"),C(1,fe,8,3,"div",22),o()),l&2){let f=S();n(),d("ngIf",f.selectedFile||f.imagePreview)}}var je=(()=>{let p=class p{constructor(e,i,t,a){this.titleService=e,this.route=i,this.formBuilder=t,this.snackBar=a,this.pageName="",this.breadCrumbs=[],this.buttonContent={},this.isBthShow=!1,this.imageName=w(""),this.fileSize=w(0),this.uploadProgress=w(0),this.imagePreview=w(""),this.selectedFile=null,this.uploadSuccess=!1,this.uploadError=!1,this.isSubmit=w(!1),this.isViewPasswordEnabled=w(!1),this.foods=[{value:"steak-0",viewValue:"Steak"},{value:"pizza-1",viewValue:"Pizza"},{value:"tacos-2",viewValue:"Tacos"}],this.userForm=new U({})}ngOnInit(){let e=[];this.setUpuserForm(e),this.settingSubHeader()}settingSubHeader(){this.route.data.subscribe(e=>{let i=e.title;i&&(this.pageName=i,this.titleService.setTitle(i)),e.breadcrumbs&&(this.breadCrumbs=e.breadcrumbs),e.btnData&&(this.buttonContent=e.btnData),e.isBtnData&&(this.isBthShow=e.isBtnData)})}setUpuserForm(e){this.userForm=this.formBuilder.group({firstname:["",[g.required,g.maxLength(100)]],lastname:["",[g.required,g.maxLength(100)]],email:["",[g.required,V.emailValidator]],profilePic:[e?.profilePic?e.profilePic:""],password:[e?.password?e.password:"",g.required]})}onFileChange(e){let i=e.target.files[0];this.uploadFile(i)}onFileDrop(e){e.preventDefault();let i=e.dataTransfer?.files[0];this.uploadFile(i)}onDragOver(e){e.preventDefault()}uploadFile(e){if(e&&e.type.startsWith("image/")){this.selectedFile=e,this.fileSize.set(Math.round(e.size/1024));let i=new FileReader;i.onload=t=>{this.imagePreview.set(t.target?.result)},i.readAsDataURL(e),this.uploadSuccess=!0,this.uploadError=!1,this.imageName.set(e.name)}else this.uploadSuccess=!1,this.uploadError=!0,this.snackBar.open("Only image files are supported!","Close",{duration:3e3,panelClass:"error"})}removeImage(){this.selectedFile=null,this.imageName.set(""),this.fileSize.set(0),this.imagePreview.set(""),this.uploadSuccess=!1,this.uploadError=!1,this.uploadProgress.set(0)}toggleViewPassword(){this.isViewPasswordEnabled()?this.isViewPasswordEnabled.set(!1):this.isViewPasswordEnabled.set(!0)}onSubmit(){if(this.isSubmit.set(!0),V.showFieldsError(this.userForm)){this.userForm.markAllAsTouched();return}console.log("val",this.userForm.value)}};p.\u0275fac=function(i){return new(i||p)(b(z),b(O),b(W),b(me))},p.\u0275cmp=P({type:p,selectors:[["app-add-edit"]],viewQuery:function(i,t){if(i&1&&k(ue,5),i&2){let a;N(a=A())&&(t.fileInput=a.first)}},standalone:!0,features:[B],decls:47,vars:21,consts:[["fileInput",""],[3,"title","breadCrumbsArr","btn","isBtnShow"],[3,"keyup.enter","formGroup"],[1,"form-container"],[1,"row","mb-3"],[1,"col-12","file-upload-wrapper-col"],[1,"file-upload-wrapper",3,"drop","dragover"],["type","file","accept","image/*","hidden","","formControlName","profilePic",3,"change"],[1,"file-dropper",3,"click"],[1,"row","mb-1"],[1,"col-6"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Your first name","formControlName","firstname"],[1,"d-flex","mt-1"],[3,"control","propertyLabel"],["matInput","","placeholder","Your last name","formControlName","lastname"],["matInput","","placeholder","Your email","formControlName","email"],["matInput","","placeholder","Write your Password","formControlName","password",3,"type"],["matSuffix","",3,"click"],[1,"row","mb-1","btn-submit"],[1,"col-12","d-flex","justify-content-end"],["mat-flat-button","","color","primary","type","submit",3,"click"],[4,"ngIf"],["alt","Image Preview",1,"image-preview",3,"src"],[1,"image-name"],[1,"delete-icon",3,"click"]],template:function(i,t){if(i&1){let a=F();m(0,"sub-header",1),r(1,"form",2),h("keyup.enter",function(){return u(a),c(t.onSubmit())}),r(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),h("drop",function(v){return u(a),c(t.onFileDrop(v))})("dragover",function(v){return u(a),c(t.onDragOver(v))}),r(6,"input",7,0),h("change",function(v){return u(a),c(t.onFileChange(v))}),o(),r(8,"div",8),h("click",function(){u(a);let v=x(7);return c(v.click())}),C(9,ce,4,0)(10,he,2,1,"div"),o()()()(),r(11,"div",9)(12,"div",10)(13,"mat-form-field",11)(14,"mat-label"),s(15,"First Name"),o(),m(16,"input",12),r(17,"mat-error",13),m(18,"validation-message",14),o()()(),r(19,"div",10)(20,"mat-form-field",11)(21,"mat-label"),s(22,"Last Name"),o(),m(23,"input",15),r(24,"mat-error",13),m(25,"validation-message",14),o()()()(),r(26,"div",9)(27,"div",10)(28,"mat-form-field",11)(29,"mat-label"),s(30,"Email"),o(),m(31,"input",16),r(32,"mat-error",13),m(33,"validation-message",14),o()()(),r(34,"div",10)(35,"mat-form-field",11)(36,"mat-label"),s(37,"Password"),o(),m(38,"input",17),r(39,"mat-icon",18),h("click",function(){return u(a),c(t.toggleViewPassword())}),s(40),o(),r(41,"mat-error",13),m(42,"validation-message",14),o()()()()(),r(43,"div",19)(44,"div",20)(45,"button",21),h("click",function(){return u(a),c(t.onSubmit())}),s(46," Submit "),o()()()()}i&2&&(d("title",t.pageName)("breadCrumbsArr",t.breadCrumbs)("btn",t.buttonContent)("isBtnShow",t.isBthShow),n(),d("formGroup",t.userForm),n(4),I("success",t.uploadSuccess)("error",t.uploadError),n(4),E(t.imagePreview()?-1:9),n(),E(t.imageName()?10:-1),n(8),d("control",t.userForm.controls.firstname)("propertyLabel","First name"),n(7),d("control",t.userForm.controls.lastname)("propertyLabel","Last name"),n(8),d("control",t.userForm.controls.email)("propertyLabel","email"),n(5),d("type",t.isViewPasswordEnabled()?"text":"password"),n(2),y(" ",t.isViewPasswordEnabled()?"visibility_off":"visibility"," "),n(2),d("control",t.userForm.controls.password)("propertyLabel","Password"))},dependencies:[de,re,ie,ee,X,Z,$,te,le,K,H,j,q,G,J,Q,Y,R,ne,oe,se,ae,L,D,pe],styles:[".form-container[_ngcontent-%COMP%]{margin-bottom:5rem}.btn-submit[_ngcontent-%COMP%]{position:fixed;bottom:25px;right:25px}.btn-submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:10px}"]});let l=p;return l})();export{je as AddEditComponent};
