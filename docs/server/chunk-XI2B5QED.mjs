import './polyfills.server.mjs';
import{a as se}from"./chunk-GCB2FELP.mjs";import{a as le,b as me}from"./chunk-RKTZXAEF.mjs";import"./chunk-XHRENCHR.mjs";import{a as oe}from"./chunk-4MUONASU.mjs";import{A as te,b as q,d as _,f as z,g as G,h as U,k as W,l as Q,m as j,o as A,p as H,q as K,r as J,s as X,u as Y,x as Z,y as $,z as ee}from"./chunk-MJVBBUFZ.mjs";import{a as ie,b as re,c as ne,g as ae}from"./chunk-H2KYOXOE.mjs";import"./chunk-WBEOKIC4.mjs";import{o as O,q as B}from"./chunk-MOBMO3SR.mjs";import"./chunk-UTEJNEE6.mjs";import{Ab as t,Bb as c,Fb as E,Ib as v,Kb as S,Ob as P,Pb as I,Qb as M,Qc as L,Rb as N,Sb as l,Ta as V,Tb as R,Tc as D,Ub as F,Wa as a,Xa as C,Zb as k,_b as T,fa as b,jb as w,na as f,oa as g,ob as y,qb as m,sb as x,zb as e}from"./chunk-HY47MGUS.mjs";import"./chunk-KXIJJ5ZC.mjs";var pe=["fileInput"],de=()=>["/auth/login"];function ce(o,s){o&1&&(e(0,"mat-icon"),l(1,"upload"),t())}function ue(o,s){o&1&&(e(0,"p"),l(1,"Upload your Profile pic"),t())}function fe(o,s){if(o&1){let d=E();e(0,"div"),c(1,"img",30),e(2,"p")(3,"span",31),l(4),t(),l(5),t(),e(6,"mat-icon",32),v("click",function(){f(d);let n=S(2);return g(n.removeImage())}),l(7,"delete"),t()()}if(o&2){let d=S(2);a(),m("src",d.imagePreview(),V),a(3),R(d.imageName()),a(),F(" (",d.fileSize()," KB) ")}}function ge(o,s){if(o&1&&(e(0,"div"),y(1,fe,8,3,"div",10),t()),o&2){let d=S();a(),m("ngIf",d.selectedFile||d.imagePreview)}}function _e(o,s){o&1&&(e(0,"mat-error",33),l(1," Profile Pic is mandatory "),t())}function ve(o,s){if(o&1&&(e(0,"mat-error",16),c(1,"validation-message",17),t()),o&2){let d=S();a(),m("control",d.registrationForm.controls.email)("propertyLabel","Email")}}function he(o,s){o&1&&(e(0,"mat-error",34)(1,"div"),l(2,"This email is already in use."),t()())}var Ue=(()=>{let s=class s{constructor(r,n){this.formBuilder=r,this.snackBar=n,this.isViewPasswordEnabled=w(!1),this.imageName=w(""),this.fileSize=w(0),this.uploadProgress=w(0),this.imagePreview=w(""),this.selectedFile=null,this.uploadSuccess=!1,this.uploadError=!1,this.isSubmit=w(!1),this.registrationForm=new U({})}ngOnInit(){this.setUpregistrationForm()}setControlValue(r,n){r.setValue(n)}setUpregistrationForm(){this.registrationForm=this.formBuilder.group({firstName:["",[_.required,_.maxLength(100)]],lastName:["",[_.required,_.maxLength(100)]],email:["",[_.required,le.emailValidator]],password:["",[_.required,_.maxLength(100)]],profilePic:["",[_.required]]})}toggleViewPassword(){this.isViewPasswordEnabled()?this.isViewPasswordEnabled.set(!1):this.isViewPasswordEnabled.set(!0)}onFileChange(r){let n=r.target.files[0];this.uploadFile(n)}onFileDrop(r){r.preventDefault();let n=r.dataTransfer?.files[0];this.uploadFile(n)}onDragOver(r){r.preventDefault()}uploadFile(r){if(r&&r.type.startsWith("image/")){this.selectedFile=r,this.fileSize.set(Math.round(r.size/1024));let n=new FileReader;n.onload=i=>{this.imagePreview.set(i.target?.result)},n.readAsDataURL(r),this.uploadSuccess=!0,this.uploadError=!1,this.imageName.set(r.name)}else this.uploadSuccess=!1,this.uploadError=!0,this.snackBar.open("Only image files are supported!","Close",{duration:3e3,panelClass:"error"})}onConsole(){console.log(this.registrationForm.controls)}removeImage(){this.selectedFile=null,this.imageName.set(""),this.fileSize.set(0),this.imagePreview.set(""),this.uploadSuccess=!1,this.uploadError=!1,this.uploadProgress.set(0)}onSubmit(){this.isSubmit.set(!0),this.imagePreview()&&(this.uploadSuccess=!0),console.log("val",this.registrationForm.value)}};s.\u0275fac=function(n){return new(n||s)(C(A),C(se))},s.\u0275cmp=b({type:s,selectors:[["app-registration"]],viewQuery:function(n,i){if(n&1&&P(pe,5),n&2){let p;I(p=M())&&(i.fileInput=p.first)}},standalone:!0,features:[k],decls:56,vars:21,consts:[["fileInput",""],[1,"registration-container"],[1,"p-3"],[1,"my-2"],[3,"keyup.enter","formGroup"],[1,"row"],[1,"col-12","file-upload-wrapper-col"],[1,"file-upload-wrapper",3,"drop","dragover"],["type","file","accept","image/*","hidden","","formControlName","profilePic",3,"change"],[1,"file-dropper",3,"click"],[4,"ngIf"],["class","d-flex error-msg",4,"ngIf"],[1,"row","mb-2"],[1,"col-6"],["appearance","outline"],["matInput","","placeholder","Write your Email","formControlName","firstName"],[1,"d-flex","mt-1"],[3,"control","propertyLabel"],["matInput","","placeholder","Write your Email","formControlName","lastName"],[1,"col-12"],["matInput","","placeholder","Write your Email","formControlName","email"],["class","d-flex mt-1",4,"ngIf"],["class","server-error d-flex mt-1",4,"ngIf"],[1,"row","mb-1"],["matInput","","placeholder","Write your Password","formControlName","password",3,"type"],["matSuffix","",3,"click"],[1,"row","mt-5"],["mat-flat-button","","color","primary","type","submit",3,"click"],[1,"my-2","d-flex","justify-content-center"],["mat-button","",3,"routerLink"],["alt","Image Preview",1,"image-preview",3,"src"],[1,"image-name"],[1,"delete-icon",3,"click"],[1,"d-flex","error-msg"],[1,"server-error","d-flex","mt-1"]],template:function(n,i){if(n&1){let p=E();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),l(4,"Registration"),t()(),e(5,"form",4),v("keyup.enter",function(){return f(p),g(i.onSubmit())}),e(6,"div",5)(7,"div",6)(8,"div",7),v("drop",function(h){return f(p),g(i.onFileDrop(h))})("dragover",function(h){return f(p),g(i.onDragOver(h))}),e(9,"input",8,0),v("change",function(h){return f(p),g(i.onFileChange(h))}),t(),e(11,"div",9),v("click",function(){f(p);let h=N(10);return g(h.click())}),y(12,ce,2,0,"mat-icon",10)(13,ue,2,0,"p",10)(14,ge,2,1,"div",10),t()(),y(15,_e,2,0,"mat-error",11),t()(),e(16,"div",12)(17,"div",13)(18,"mat-form-field",14)(19,"mat-label"),l(20,"First name"),t(),c(21,"input",15),e(22,"mat-error",16),c(23,"validation-message",17),t()()(),e(24,"div",13)(25,"mat-form-field",14)(26,"mat-label"),l(27,"Last name"),t(),c(28,"input",18),e(29,"mat-error",16),c(30,"validation-message",17),t()()()(),e(31,"div",12)(32,"div",19)(33,"mat-form-field",14)(34,"mat-label"),l(35,"Email"),t(),c(36,"input",20),y(37,ve,2,2,"mat-error",21)(38,he,3,0,"mat-error",22),t()()(),e(39,"div",23)(40,"div",19)(41,"mat-form-field",14)(42,"mat-label"),l(43,"Password"),t(),c(44,"input",24),e(45,"mat-icon",25),v("click",function(){return f(p),g(i.toggleViewPassword())}),l(46),t(),e(47,"mat-error",16),c(48,"validation-message",17),t()()()(),e(49,"div",26)(50,"button",27),v("click",function(){return f(p),g(i.onSubmit())}),l(51," Submit "),t(),e(52,"p",28),l(53,"OR"),t(),e(54,"button",29),l(55," Already have an account? Sign in! "),t()()()()()}if(n&2){let p,u;a(5),m("formGroup",i.registrationForm),a(3),x("success",i.uploadSuccess)("error",i.uploadError),a(4),m("ngIf",!i.imagePreview()),a(),m("ngIf",!i.imagePreview()),a(),m("ngIf",i.imageName()),a(),m("ngIf",i.isSubmit()&&!i.imagePreview()),a(8),m("control",i.registrationForm.controls.firstName)("propertyLabel","First Name"),a(7),m("control",i.registrationForm.controls.lastName)("propertyLabel","Last Name"),a(7),m("ngIf",!((p=i.registrationForm.get("email"))!=null&&p.hasError("duplicateEmail"))),a(),m("ngIf",(u=i.registrationForm.get("email"))==null?null:u.hasError("duplicateEmail")),a(6),m("type",i.isViewPasswordEnabled()?"text":"password"),a(2),F(" ",i.isViewPasswordEnabled()?"visibility_off":"visibility"," "),a(2),m("control",i.registrationForm.controls.password)("propertyLabel","Password"),a(6),m("routerLink",T(20,de))}},dependencies:[$,Z,J,X,Y,te,ee,re,ie,oe,ae,ne,H,W,q,z,G,K,Q,j,B,O,D,L,me],styles:[".registration-container[_ngcontent-%COMP%]     .mat-mdc-form-field{width:100%}.registration-container[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-icon{cursor:pointer}.registration-container[_ngcontent-%COMP%]     .mat-mdc-button-base{border-radius:10px}.registration-container[_ngcontent-%COMP%]   .file-upload-wrapper-col[_ngcontent-%COMP%]{margin-bottom:1.25rem}"]});let o=s;return o})();export{Ue as RegistrationComponent};
